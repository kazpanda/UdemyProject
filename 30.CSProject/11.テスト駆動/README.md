# 11.テスト駆動
テスト駆動学習用

### テストコードの基本的な書き方
・レッドを行う理由は、テストが機能しているか確認するため
・テストメソッドが１０００とか増えると、ミスしても気づかない為

### 画面のテスト方法
・ラベルやボタンのプライベートへのアクセス方法
・viewとviewモデルに分ける
・データのやり取りが大変なので、データバインドを使用する
・すべてのコントロールにバインドするのは大変なので共通化クラス（Base）を作る

### DBのテスト
・DBは決まった値が返ってくるとは限らない
・そこで、テストと本番コードをインターフェイスを使い切り分ける
・コンストラクターに引数を渡してテストと本番を分ける
・テスト用のDBはモックを作って値を返すようにする
・ただし大量のモックが必要になる
・Moqを使うことで2行で書くことができる

### 例外処理
・メソッドと同じテストで例外を行うにはNugetからChainingAssertionを入れると便利
・戻り値も取れるので、メッセージのテストも可能

### カバレッジの考え方
・ビジネスロジックは１００％したい
・クラスが増えると管理できない
・ツール拡張から導入 AxoCover ただしVS2019には(https://github.com/axodox/AxoCover/releases/tag/master-1.1.400)
・カバレッジが自動で計測
・メソッド内のテストが通らなかった処理もわかる

